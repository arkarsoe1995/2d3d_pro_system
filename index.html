<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2D3D Myanmar Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Padauk:wght@400;700&display=swap');
        body { font-family: 'Padauk', sans-serif; overflow: hidden; background: #0f172a; color: white; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .nav-active { color: #3b82f6; transform: translateY(-5px); transition: all 0.3s; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        /* 3D Table Custom Styles */
        .cell-box { min-width: 45px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 4px; font-size: 12px; cursor: pointer; position: relative; }
        .line-svg { position: absolute; pointer-events: none; top: 0; left: 0; z-index: 10; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // --- UI Components ---
        const Icon = ({ name, size = 20, className = "" }) => {
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [name]);
            return <i data-lucide={name} style={{ width: size, height: size }} className={className}></i>;
        };

        const App = () => {
            const [view, setView] = useState('welcome'); // welcome, auth, home, live, cal, rank, profile
            const [user, setUser] = useState(null);
            const [coins, setCoins] = useState(1000);
            const [isDarkMode, setIsDarkMode] = useState(true);

            // --- 1. Welcome Screen ---
            if (view === 'welcome') {
                return (
                    <div className="h-screen flex flex-col items-center justify-center p-6 text-center bg-gradient-to-b from-slate-900 to-blue-900">
                        <div className="w-24 h-24 bg-blue-600 rounded-3xl flex items-center justify-center mb-6 shadow-2xl animate-bounce">
                            <Icon name="trending-up" size={48} />
                        </div>
                        <h1 className="text-3xl font-bold mb-2">2D3D MYANMAR</h1>
                        <p className="text-slate-400 mb-8">မြန်မာ့အကောင်းဆုံး 2D3D တွက်စက်နှင့် Live App</p>
                        <button onClick={() => setView('auth')} className="w-full max-w-xs py-4 bg-blue-600 rounded-2xl font-bold text-lg">စတင်အသုံးပြုမည်</button>
                    </div>
                );
            }

            // --- 2. Auth System (Login/Register) ---
            if (view === 'auth') {
                return (
                    <div className="h-screen p-6 flex flex-col justify-center">
                        <div className="glass p-8 rounded-3xl">
                            <h2 className="text-2xl font-bold mb-6 text-center">အကောင့်ဝင်ပါ</h2>
                            <input type="text" placeholder="အမည်" className="w-full bg-slate-800 p-4 rounded-xl mb-4 border border-slate-700 outline-none" />
                            <input type="password" placeholder="စကားဝှက်" className="w-full bg-slate-800 p-4 rounded-xl mb-6 border border-slate-700 outline-none" />
                            <button onClick={() => { setUser({name: 'User'}); setView('home'); }} className="w-full py-4 bg-blue-600 rounded-xl font-bold mb-4">Login</button>
                            <p className="text-center text-slate-400 text-sm">အကောင့်မရှိသေးပါက <span className="text-blue-500">Register</span> လုပ်ပါ</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="h-screen flex flex-col">
                    {/* Header */}
                    <header className="px-5 py-4 flex justify-between items-center glass border-b-0 rounded-b-3xl">
                        <div className="flex items-center gap-2">
                            <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"><Icon name="cpu" size={16}/></div>
                            <span className="font-bold tracking-tighter uppercase text-sm">ArkarSoe.sys</span>
                        </div>
                        <div className="flex items-center gap-4">
                            <div className="flex items-center gap-1 bg-yellow-500/20 text-yellow-500 px-3 py-1 rounded-full text-xs font-bold">
                                <Icon name="coins" size={14}/> {coins}
                            </div>
                            <Icon name="bell" size={20} className="text-slate-400" />
                        </div>
                    </header>

                    {/* Main Content Area */}
                    <main className="flex-1 overflow-y-auto no-scrollbar p-4">
                        {view === 'home' && <HomeView />}
                        {view === 'live' && <LiveView />}
                        {view === 'cal' && <CalView />}
                        {view === 'rank' && <RankView />}
                        {view === 'profile' && <ProfileView user={user} />}
                    </main>

                    {/* Bottom Navigation */}
                    <nav className="glass px-6 py-4 flex justify-between items-center rounded-t-[2.5rem]">
                        <NavItem active={view==='home'} icon="home" label="Home" onClick={()=>setView('home')} />
                        <NavItem active={view==='live'} icon="play-circle" label="Live" onClick={()=>setView('live')} />
                        <NavItem active={view==='cal'} icon="calculator" label="3D Cal" onClick={()=>setView('cal')} />
                        <NavItem active={view==='rank'} icon="trophy" label="Rank" onClick={()=>setView('rank')} />
                        <NavItem active={view==='profile'} icon="user" label="Profile" onClick={()=>setView('profile')} />
                    </nav>
                </div>
            );
        };

        const NavItem = ({ active, icon, label, onClick }) => (
            <button onClick={onClick} className={`flex flex-col items-center gap-1 ${active ? 'nav-active' : 'text-slate-500'}`}>
                <Icon name={icon} size={24} />
                <span className="text-[10px] font-bold uppercase">{label}</span>
            </button>
        );

        // --- View: Home ---
        const HomeView = () => (
            <div className="space-y-6">
                <div className="grid grid-cols-2 gap-4">
                    <div className="glass p-5 rounded-3xl bg-gradient-to-br from-blue-600/20 to-transparent">
                        <p className="text-xs text-slate-400 mb-1">2D နောက်ဆုံးထွက်</p>
                        <h2 className="text-4xl font-black text-blue-500">51</h2>
                        <p className="text-[10px] opacity-50">16:30 PM</p>
                    </div>
                    <div className="glass p-5 rounded-3xl bg-gradient-to-br from-purple-600/20 to-transparent">
                        <p className="text-xs text-slate-400 mb-1">3D နောက်ဆုံးထွက်</p>
                        <h2 className="text-4xl font-black text-purple-500">920</h2>
                        <p className="text-[10px] opacity-50">16 Dec 2025</p>
                    </div>
                </div>
                
                <div className="glass p-5 rounded-3xl">
                    <h3 className="font-bold mb-4 flex items-center gap-2"><Icon name="history" size={18}/> ထိုးထားသောဂဏန်းများ</h3>
                    <div className="text-center py-4 text-slate-500 text-sm">မှတ်တမ်းမရှိသေးပါ။</div>
                </div>

                <div className="glass p-5 rounded-3xl border-dashed border-blue-500/50">
                    <h3 className="font-bold mb-4">ဂဏန်းထိုးမည် (Coin စနစ်)</h3>
                    <div className="flex gap-2 mb-4">
                        <input placeholder="ဂဏန်း" className="flex-1 bg-slate-800 p-3 rounded-xl outline-none border border-slate-700" />
                        <input placeholder="ပမာဏ" className="w-24 bg-slate-800 p-3 rounded-xl outline-none border border-slate-700" />
                    </div>
                    <button className="w-full py-3 bg-blue-600 rounded-xl font-bold">ထိုးမည်</button>
                </div>
            </div>
        );

        // --- View: 2D Live ---
        const LiveView = () => {
            const [liveData, setLiveData] = useState(null);
            useEffect(() => {
                fetch('https://api.thaistock2d.com/live').then(res => res.json()).then(data => setLiveData(data));
            }, []);

            return (
                <div className="space-y-4">
                    <div className="glass p-8 rounded-[3rem] text-center relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-1 bg-blue-500"></div>
                        <p className="text-sm font-bold text-blue-400 uppercase tracking-widest mb-4">Live Result</p>
                        <h1 className="text-8xl font-black mb-6">{liveData?.live?.twod || '--'}</h1>
                        <div className="flex justify-between text-xs font-bold text-slate-400 px-4">
                            <span>SET: {liveData?.live?.set || '--'}</span>
                            <span>VAL: {liveData?.live?.value || '--'}</span>
                        </div>
                    </div>

                    <div className="glass rounded-3xl overflow-hidden">
                        <table className="w-full text-left">
                            <thead className="bg-white/5 text-[10px] uppercase text-slate-500">
                                <tr>
                                    <th className="p-4">Time</th>
                                    <th className="p-4">SET</th>
                                    <th className="p-4">2D</th>
                                </tr>
                            </thead>
                            <tbody className="text-sm">
                                {liveData?.result?.map((r, i) => (
                                    <tr key={i} className="border-t border-white/5">
                                        <td className="p-4 font-bold">{r.open_time}</td>
                                        <td className="p-4 opacity-60">{r.set}</td>
                                        <td className="p-4 text-xl font-black text-blue-500">{r.twod}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>
            );
        };

        // --- View: 3D Calculator (The Logic you provided) ---
        const CalView = () => {
            const years = [2022, 2023, 2024, 2025];
            const [selectedNum, setSelectedNum] = useState(null);
            const mockData = {"2024": ["123", "456", "789", "012", "345", "678"], "2025": ["123", "920", "", "", "", ""]};

            return (
                <div className="h-full flex flex-col">
                    <div className="flex justify-between items-center mb-4">
                        <h3 className="font-bold uppercase text-xs tracking-tighter text-blue-500">3D Historical Analysis</h3>
                        {selectedNum && <div className="bg-blue-600 px-3 py-1 rounded text-xs font-bold animate-pulse">Selected: {selectedNum}</div>}
                    </div>
                    <div className="overflow-auto flex-1 no-scrollbar glass rounded-2xl">
                        <table className="w-full border-collapse">
                            <thead>
                                <tr className="sticky top-0 bg-slate-900">
                                    <th className="p-2 border border-white/5 text-[10px]">Round</th>
                                    {years.map(y => <th key={y} className="p-2 border border-white/5 text-[10px]">{y}</th>)}
                                </tr>
                            </thead>
                            <tbody>
                                {[...Array(12)].map((_, r) => (
                                    <tr key={r}>
                                        <td className="p-2 border border-white/5 text-center text-[10px] bg-white/5">{r+1}</td>
                                        {years.map(y => {
                                            const val = mockData[y]?.[r] || "";
                                            const isMatch = selectedNum && val === selectedNum;
                                            return (
                                                <td key={y} className="p-1 border border-white/5" onClick={() => setSelectedNum(val)}>
                                                    <div className={`cell-box ${isMatch ? 'bg-blue-600 text-white' : 'bg-slate-800'}`}>
                                                        {val}
                                                    </div>
                                                </td>
                                            );
                                        })}
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>
            );
        };

        // --- View: Rank ---
        const RankView = () => (
            <div className="space-y-4">
                <h3 className="font-bold text-center mb-6">ထိပ်တန်း ကစားသမား (၁၀) ဦး</h3>
                {[...Array(10)].map((_, i) => (
                    <div key={i} className="glass p-4 rounded-2xl flex justify-between items-center">
                        <div className="flex items-center gap-4">
                            <span className={`w-8 h-8 rounded-full flex items-center justify-center font-bold ${i < 3 ? 'bg-yellow-500 text-slate-900' : 'bg-slate-800'}`}>{i + 1}</span>
                            <span className="font-bold">Player {i + 102}</span>
                        </div>
                        <span className="text-yellow-500 font-bold">{(10 - i) * 1500} C</span>
                    </div>
                ))}
            </div>
        );

        // --- View: Profile ---
        const ProfileView = ({ user }) => (
            <div className="text-center py-10">
                <div className="w-24 h-24 bg-slate-700 rounded-full mx-auto mb-4 border-4 border-blue-600 flex items-center justify-center">
                    <Icon name="user" size={40} />
                </div>
                <h2 className="text-2xl font-bold">{user?.name}</h2>
                <p className="text-slate-500 text-sm mb-8">ID: 4859202</p>
                <div className="grid grid-cols-2 gap-4 px-4">
                    <button className="glass p-4 rounded-2xl flex flex-col items-center gap-2">
                        <Icon name="settings" /> <span>Settings</span>
                    </button>
                    <button className="glass p-4 rounded-2xl flex flex-col items-center gap-2 text-red-500">
                        <Icon name="log-out" /> <span>Logout</span>
                    </button>
                </div>
            </div>
        );

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
